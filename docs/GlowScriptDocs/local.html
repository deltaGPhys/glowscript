<!-- InstanceBegin template="/Templates/template.dwt" codeOutsideHTMLIsLocked="false" --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- InstanceBeginEditable name="doctitle" -->
<title>running locally</title>
<!-- InstanceEndEditable -->
<!-- InstanceBeginEditable name="head" -->
<link href="VisualRef.css" rel="stylesheet" type="text/css" />
<!-- InstanceEndEditable -->
<link href="VisualRef.css" rel="stylesheet" type="text/css" />
</head>

<body>
<table width="230" height="30" border="0">
  <tr>
    <td width="66"><a name="top" id="top"></a><a href="index.html"><strong>Home</strong></a></td>
    <td width="154"><span class="Normal"><a href="primitives.html"><strong>Pictures</strong></a> of 3D objects</span></td>
  </tr>
</table>
<table width="438" height="30" border="0">
  <tr>
    <td width="151"><select id="menu1" onChange="jumpMenu(this)">
    </select></td>
    <td width="163"><select id="menu2" onChange="jumpMenu(this)">
    </select></td>
    <td width="110"><select id="menu3" onChange="jumpMenu(this)">
    </select></td>
  </tr>
</table>
<table width="454" border="0" cellpadding="0" cellspacing="0">
  <!--DWLayoutDefaultTable-->
  <tr>
    <td width="454" rowspan="2" valign="top"><!-- InstanceBeginEditable name="content" -->
      <div>
        <h1 class="Heading-1"> <font color="#0000A0">Running locally</font></h1>
      </div>
      <div class="Normal">
        <p class="Normal">When internet access is missing or poor, you may find it useful to run locally, independent of the internet. At <a href="https://vpython.org"><strong>vpython.org</strong></a>, in the section on using VPython without installing software, see the instructions for how to use GlowScript without an internet connection. Before going offline, use the download options at glowscript.org to get local copies of your programs.</p>
        <p class="Normal">Another option is to install Python and the VPython 7 module. At <a href="https://vpython.org"><strong>vpython.org</strong></a> see the section on using VPython with installed Python. As long as you don't import Python modules other than vpython, you will also be able to run the program at glowscript.org without having to make changes.        </p>
        <p class="Normal"><strong>* For developers</strong><br />
        If  you want to be able to contribute to developing GlowScript, here are the (rather complex) steps required to be able to run locally with changes that you make to the GlowScript code, almost all of which is written in JavaScript (there is also some Python server code and some html code).</p>
        <p class="Normal"><strong>* Read overviews of the VPython architecture</strong><br />
          See <a href="https://vpython.org/contents/VPythonArchitecture.pdf" target="_blank"><strong>vpython.org/contents/VPythonArchitecture.pdf</strong></a> and<br>
        <a href="https://github.com/vpython/glowscript/blob/master/docs/GlowScriptOverview.txt" target="_blank"><strong>github.com/vpython/glowscript/blob/master/docs/GlowScriptOverview.txt</strong></a></p>
        <p class="Normal"><strong>* Install Python 2.7 (python.org).</strong> Google App Engine currently requires Python 2.7        </p>
        <p class="Normal"><strong>* Download the GlowScript source files</strong><br />
          At the glowscript repository on GitHub, <a href="https://github.com/vpython/glowscript" target="_blank">https://github.com/vpython/glowscript</a>, clone the repository, or click on &quot;Download ZIP&quot; and unpack the zip file into a new folder  named glowscript. On Linux, place this folder parallel to the google_appengine folder.        </p>
        <p class="Normal"><strong>* Install the Google Cloud SDK for Python</strong><br />
          At <a href="https://developers.google.com/appengine/downloads" target="_blank"><strong>developers.google.com/appengine/downloads</strong></a>. Choose Standard environment Python for your platform. Next, if you have not already installed the Google Cloud SDK (&quot;Software Development Kit&quot;), do this:<br>
          1) 
          If you do not already have Python 2.7 installed, click the Download button for &quot;Install Python version 2.7&quot;.<br>
          2) 
click the Download button for &quot;Install and initialize Google Cloud SDK&quot;.<br>
3) 
In a command-line terminal, execute the statement &quot;gcloud init&quot;.<br>
4) If you intend to use GitHub, click &quot;Download and Install Git&quot;.<br>
<br>
If you had already installed the Google Cloud SDK, follow the instructions on the page for updating it.        </p>
        <p class="Normal"><strong>* Using gcloud with Google App Engine</strong><br>
          At 
            <a href="https://cloud.google.com/appengine/docs/python/" target="_blank"><strong>cloud.google.com/appengine/docs/python</strong></a> choose the Standard environment Python 2 Docs. Presumably you have already installed the Cloud SDK; follow the rest of the instructions, except that you need not install Git if you don't intend to use GitHub. You do need to execute &quot;gcloud components install app-engine-python&quot; to add Google App Engine support to the Cloud SDK.<br>
            <br>
            To run GlowScript, execute dev_appserver.py /..../glowscript/app.yaml, where the location of the GlowScript code is at /..../glowscript (on Windows, use backslashes instead of slashes). This starts up the Google App Engine machinery. Open a browser tab and enter &quot;localhost:8080&quot; to run.<br>
            <br>
          More precisely, 8080 is the default port number. At the start of ide/api.py, if the variable &quot;localport&quot; is XXXX instead of 8080, to start up the application you must execute dev_appserver.py --port=XXXX /..../glowscript/app.yaml and the browser must point to &quot;localhost:XXXX&quot;.</p>
        <p class="Normal"><strong>* Testing your changes</strong><br />
          Suppose the current version of GlowScript is 2.7. Change the version number in a program to 2.8dev; that is, 0.1 greater than the current 2.7, plus dev. When you run the program, it will use your latest JavaScript changes. If you make further changes to the JavaScript code, just re-execute a test program to get the latest changes. You don't have to restart the application.<br />
          <br />
          If you want to remake/update the existing version 2.7, or create a new version 2.8, see MakingNewVersion.txt in the docs folder of the GlowScript GitHub repository. Note that use of the build program requires that there be an appropriate version of node in the build-tools folder.<br />
          <br />
        It is very useful to insert console.log(....) at critical points in the JavaScript code, which will generate output to the web page that is viewable if you turn on the browser developer console. On Chrome just press Ctrl-Shift-j.        </p>
        <p class="Normal"><strong>* Save your test programs</strong><br />
        Updates to the Google software can have the effect that you  lose the VPython programs you used for testing purposes.         On Windows these programs are stored in C:\Users\YourName\AppData\Local\Temp\appengine.glowscript. On Mac, look for datastore.db in /private/var/folders/..... It is highly recommended that you keep a copy of the programs folder before updating the Google software.</p>
        <p class="Normal"><br>
        </p>
      </div>
      <div><br>
        <p class="Normal"></p>
        <p class="Normal"><em><strong>Important: The &quot;original App Engine SDK&quot; described below, with its graphical user interface, will no longer be available after July 30, 2020, at which time it will be necessary to use the &quot;gcloud&quot; mechanism documented above.</strong></em></p>
        <p class="Normal"><strong>* Install the Google App Engine SDK for Python</strong><br />
          At <a href="https://developers.google.com/appengine/downloads" target="_blank"><strong>developers.google.com/appengine/downloads</strong></a>, download the package for your platform. Choose Standard environment Python, then scroll down and click &quot;Download and install the original App Engine SDK for Python&quot;. If using Linux, unpack to a folder whose name will probably be google_appengine. <br>
        </p>
        <p class="Normal"><strong>* On Windows and Mac</strong>, the Google App Engine installer includes an app &quot;Google APP Engine Launcher&quot; which simplifies launching GlowScript.<br />
          <br />
          On Windows, there will be a Google App Engine Launcher icon on your desktop, or in your Start menu. Run the app.<br />
  <br />
          On Mac, drag the GoogleAppEngineLauncher out of the installer package (for example, drag it into the Applications folder), then double-click it. When asked, accept the offer to create some symlinks.<br />
  <br />
          In the Launcher, choose File &gt;  Add Existing Application and specify the glowscript folder. Make a note of the Port number. Click Add. In ide/api.py and untrusted/run.js, search for &quot;localhost:&quot; and adjust the port number to the number assigned by the launcher.<br />
  <br />
          With the glowscript entry selected in the launcher, click the green Run button. When the  Browse button lights up, click it, which will run your standard browser (which should be Chrome for best error reporting).<br />
  <br />
        Click Sign in, then click Login and use the name &quot;test&quot;. Write or import a program and check that it runs properly.</p>
        <p class="Normal"><strong>* On Ubuntu</strong>, in a terminal cd to the google_appengine folder and execute<br />
          python dev_appserver.py ../glowscript<br />
  <br />
          Next open a browser, preferably an up-to-date version of Chrome (which gives the best error reporting).<br />
  <br />
          Enter as a URL &quot;localhost:8080&quot;<br />
  <br />
          Click Sign in, then click Login and use the name &quot;test&quot;.</p>
</div>
    <!-- InstanceEndEditable --></td>
  </tr>
</table>
<p><a href="#top"><strong>Top of page</strong></a></p>
</body>
<script type="text/javascript" language="javascript" src="navigation.js"></script>
<!-- InstanceEnd --></html>
